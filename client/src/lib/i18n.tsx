import { createContext, useContext, useState, useEffect, ReactNode } from "react";

export type Language = "ru" | "en";

const translations = {
  ru: {
    // Navigation
    "nav.dashboard": "Главная",
    "nav.admin": "Админ-панель",
    "nav.companies": "Организации",
    "nav.campaigns": "Тесты",
    "nav.usersGroups": "Контакты",
    "nav.templates": "Шаблоны",
    "nav.landingPages": "Лендинги",
    "nav.sendingProfiles": "SMTP",
    "nav.settings": "Настройки",
    "nav.navigation": "Меню",
    
    // Common
    "common.create": "Создать",
    "common.save": "Сохранить",
    "common.cancel": "Отмена",
    "common.delete": "Удалить",
    "common.edit": "Редактировать",
    "common.search": "Поиск",
    "common.loading": "Загрузка...",
    "common.noData": "Данные не найдены",
    "common.actions": "Действия",
    "common.name": "Название",
    "common.email": "Email",
    "common.status": "Статус",
    "common.date": "Дата",
    "common.all": "Все",
    
    // Dashboard
    "dashboard.title": "Главная",
    "dashboard.subtitle": "PhishGuard Administration - Обзор email-кампаний",
    "dashboard.newCampaign": "Новая кампания",
    "dashboard.campaigns": "Тесты",
    "dashboard.sent": "Отправлено",
    "dashboard.allTime": "писем за всё время",
    "dashboard.opened": "Открыто",
    "dashboard.ofSent": "от отправленных",
    "dashboard.clicks": "Переходы",
    "dashboard.ofOpened": "от открытых",
    "dashboard.dataCollected": "Данные собраны",
    "dashboard.ofClicks": "от переходов",
    "dashboard.dailyLimit": "Лимит рассылок сегодня",
    "dashboard.monthlyLimit": "Лимит рассылок в месяц",
    "dashboard.used": "Использовано",
    "dashboard.recentCampaigns": "Недавние кампании",
    "dashboard.noCampaigns": "Нет кампаний",
    "dashboard.createFirstCampaign": "Создайте первую кампанию для начала работы",
    
    // Campaigns
    "campaigns.title": "Тесты",
    "campaigns.subtitle": "Управление фишинг-тестами",
    "campaigns.create": "Создать кампанию",
    "campaigns.total": "Всего кампаний",
    "campaigns.drafts": "Черновики",
    "campaigns.sending": "Отправляются",
    "campaigns.completed": "Отправлены",
    "campaigns.notFound": "Тесты не найдены",
    "campaigns.createFirst": "Создать первую кампанию",
    "campaigns.new": "Новая кампания",
    "campaigns.name": "Название кампании",
    "campaigns.template": "Шаблон письма",
    "campaigns.selectTemplate": "Выберите шаблон",
    "campaigns.templateDescription": "Шаблон email для рассылки",
    "campaigns.landingPage": "Фишинг-страница",
    "campaigns.selectLandingPage": "Выберите страницу",
    "campaigns.landingPageDescription": "Страница для захвата учётных данных",
    "campaigns.sendingProfile": "Профиль отправки",
    "campaigns.selectProfile": "Выберите профиль",
    "campaigns.profileDescription": "SMTP сервис для отправки писем",
    "campaigns.contactGroup": "Группа контактов",
    "campaigns.selectGroup": "Выберите группу",
    "campaigns.groupDescription": "Получатели фишинг-писем",
    "campaigns.url": "URL кампании (опционально)",
    "campaigns.urlDescription": "Базовый URL для трекинга",
    "campaigns.statusDraft": "Черновик",
    "campaigns.statusScheduled": "Запланирована",
    "campaigns.statusSending": "Отправляется",
    "campaigns.statusSent": "Отправлена",
    "campaigns.statusPaused": "Приостановлена",
    "campaigns.statusCancelled": "Отменена",
    "campaigns.created": "Кампания создана",
    "campaigns.createdDesc": "Новая кампания успешно создана",
    "campaigns.deleted": "Кампания удалена",
    "campaigns.launched": "Кампания запущена",
    "campaigns.launchedDesc": "Начинается отправка писем",
    
    // Templates
    "templates.title": "Шаблоны",
    "templates.subtitle": "Просмотр и управление email-шаблонами",
    "templates.create": "Создать шаблон",
    "templates.notFound": "Шаблоны не найдены",
    "templates.createFirst": "Создать первый шаблон",
    "templates.new": "Новый шаблон",
    "templates.name": "Название шаблона",
    "templates.subject": "Тема письма",
    "templates.htmlContent": "HTML содержимое",
    "templates.preview": "Предпросмотр",
    "templates.allTemplates": "Все шаблоны",
    "templates.ready": "Готовые",
    "templates.custom": "Кастомные",
    "templates.created": "Шаблон создан",
    "templates.createdDesc": "Новый шаблон успешно добавлен",
    
    // Landing Pages
    "landingPages.title": "Фишинг-страницы",
    "landingPages.subtitle": "Страницы для сбора учётных данных",
    "landingPages.create": "Новая страница",
    "landingPages.notFound": "Страницы не найдены",
    "landingPages.createFirst": "Создать первую страницу",
    "landingPages.new": "Новая страница",
    "landingPages.name": "Название страницы",
    "landingPages.html": "HTML код страницы",
    "landingPages.redirectUrl": "URL редиректа",
    "landingPages.captureSettings": "Настройки захвата",
    "landingPages.captureData": "Данные",
    "landingPages.created": "Страница создана",
    
    // Sending Profiles
    "sendingProfiles.title": "Профили отправки",
    "sendingProfiles.subtitle": "Настройка SMTP серверов для отправки писем",
    "sendingProfiles.create": "Добавить сервис",
    "sendingProfiles.notConfigured": "Email сервисы не настроены",
    "sendingProfiles.createFirst": "Добавить первый сервис",
    "sendingProfiles.new": "Новый email сервис",
    "sendingProfiles.name": "Название сервиса",
    "sendingProfiles.provider": "Провайдер",
    "sendingProfiles.selectProvider": "Выберите провайдер",
    "sendingProfiles.fromEmail": "Email отправителя",
    "sendingProfiles.fromName": "Имя отправителя",
    "sendingProfiles.apiKey": "API ключ",
    "sendingProfiles.active": "Активен",
    "sendingProfiles.inactive": "Неактивен",
    "sendingProfiles.created": "Сервис добавлен",
    "sendingProfiles.createdDesc": "Email сервис успешно настроен",
    "sendingProfiles.updated": "Сервис обновлён",
    "sendingProfiles.updatedDesc": "Настройки email сервиса изменены",
    "sendingProfiles.deleted": "Сервис удалён",
    "sendingProfiles.deletedDesc": "Email сервис успешно удалён",
    
    // Users & Groups
    "usersGroups.title": "Пользователи и группы",
    "usersGroups.subtitle": "Управление получателями фишинг-кампаний",
    "usersGroups.users": "Пользователи",
    "usersGroups.groups": "Группы",
    "usersGroups.addUser": "Добавить пользователя",
    "usersGroups.newGroup": "Новая группа",
    "usersGroups.importCsv": "Импорт CSV",
    "usersGroups.exportCsv": "Экспорт CSV",
    "usersGroups.firstName": "Имя",
    "usersGroups.lastName": "Фамилия",
    "usersGroups.position": "Должность",
    "usersGroups.department": "Отдел",
    "usersGroups.noUsers": "Пользователи не найдены",
    "usersGroups.noGroups": "Группы не найдены",
    "usersGroups.groupName": "Название группы",
    "usersGroups.contacts": "контактов",
    
    // Settings
    "settings.title": "Настройки",
    "settings.subtitle": "Управление аккаунтом и настройками приложения",
    "settings.profile": "Профиль",
    "settings.notifications": "Уведомления",
    "settings.security": "Безопасность",
    "settings.appearance": "Внешний вид",
    "settings.company": "Компания",
    "settings.personalInfo": "Личная информация",
    "settings.updatePersonalInfo": "Обновите свои личные данные",
    "settings.changePhoto": "Изменить фото",
    "settings.photoHint": "JPG, PNG или GIF. Максимум 2MB",
    "settings.firstName": "Имя",
    "settings.lastName": "Фамилия",
    "settings.saveChanges": "Сохранить изменения",
    "settings.profileSaved": "Профиль сохранен",
    "settings.profileSavedDesc": "Ваши данные успешно обновлены",
    "settings.emailNotifications": "Email уведомления",
    "settings.emailNotificationsDesc": "Настройте, какие уведомления вы хотите получать",
    "settings.campaignStatus": "Статус кампаний",
    "settings.campaignStatusDesc": "Уведомления о завершении и ошибках отправки",
    "settings.newResponses": "Новые отклики",
    "settings.newResponsesDesc": "Уведомления о полученных данных и ответах",
    "settings.weeklyReports": "Еженедельные отчеты",
    "settings.weeklyReportsDesc": "Сводка статистики каждую неделю",
    "settings.securityAlerts": "Уведомления безопасности",
    "settings.securityAlertsDesc": "Оповещения о подозрительной активности",
    "settings.saveSettings": "Сохранить настройки",
    "settings.notificationsSaved": "Настройки уведомлений сохранены",
    "settings.changePassword": "Изменить пароль",
    "settings.changePasswordDesc": "Регулярно обновляйте пароль для безопасности",
    "settings.currentPassword": "Текущий пароль",
    "settings.newPassword": "Новый пароль",
    "settings.confirmPassword": "Подтвердите пароль",
    "settings.twoFactor": "Двухфакторная аутентификация",
    "settings.twoFactorDesc": "Добавьте дополнительный уровень защиты",
    "settings.authenticatorApp": "Authenticator App",
    "settings.authenticatorAppDesc": "Используйте приложение для генерации кодов",
    "settings.notConfigured": "Не настроено",
    "settings.setup2fa": "Настроить 2FA",
    "settings.activeSessions": "Активные сессии",
    "settings.activeSessionsDesc": "Управление активными входами",
    "settings.currentSession": "Текущая сессия",
    "settings.active": "Активна",
    "settings.endAllSessions": "Завершить все сессии",
    "settings.appearanceTitle": "Внешний вид",
    "settings.appearanceDesc": "Настройте внешний вид приложения",
    "settings.theme": "Тема",
    "settings.themeLight": "Светлая",
    "settings.themeDark": "Темная",
    "settings.themeSystem": "Системная",
    "settings.language": "Язык",
    "settings.compactMode": "Компактный режим",
    "settings.compactModeDesc": "Уменьшить отступы для отображения большего контента",
    "settings.companyInfo": "Информация о компании",
    "settings.companyInfoDesc": "Основные данные вашей компании",
    "settings.companyName": "Название компании",
    "settings.domain": "Домен",
    "settings.contactEmail": "Контактный email",
    "settings.limits": "Лимиты рассылок",
    "settings.limitsDesc": "Текущие лимиты вашей компании",
    "settings.dailyLimit": "Дневной лимит",
    "settings.monthlyLimit": "Месячный лимит",
    "settings.increaseLimit": "Увеличить лимит",
    
    // Notifications
    "notifications.title": "Уведомления",
    "notifications.subtitle": "Последние события кампаний",
    "notifications.empty": "Нет новых уведомлений",
    "notifications.emailOpened": "Письмо открыто",
    "notifications.linkClicked": "Клик по ссылке",
    "notifications.credentialsSubmitted": "Данные отправлены",
    "notifications.newEvent": "Новое событие",
    "notifications.justNow": "Только что",
    "notifications.minutesAgo": "мин. назад",
    "notifications.hoursAgo": "ч. назад",
    "notifications.daysAgo": "дн. назад",
    
    // Viewers
    "viewers.title": "Просмотрщики",
    "viewers.subtitle": "Аккаунты с доступом только к статистике",
    "viewers.create": "Добавить просмотрщика",
    "viewers.noViewers": "Просмотрщики не найдены",
    "viewers.createFirst": "Создать первого просмотрщика",
    "viewers.new": "Новый просмотрщик",
    "viewers.email": "Email просмотрщика",
    "viewers.password": "Пароль",
    "viewers.campaigns": "Доступные кампании",
    "viewers.selectCampaigns": "Выберите кампании для просмотра",
    "viewers.created": "Просмотрщик создан",
    "viewers.createdDesc": "Аккаунт просмотрщика успешно создан",
    "viewers.readOnlyAccess": "Только просмотр",
    
    // Admin
    "admin.title": "Админ-панель",
    "admin.users": "Пользователи",
    "admin.organizations": "Организации",
    "admin.statistics": "Статистика",
    "admin.exportImport": "Экспорт/Импорт",
    "admin.tests": "Тесты",
    "admin.totalUsers": "Пользователей",
    "admin.totalOrganizations": "Организаций",
    "admin.totalTests": "Тестов",
    "admin.totalContacts": "Контактов",
    "admin.noOrganizations": "Организации не найдены",
    "admin.noUsers": "Пользователи не найдены",
    
    // Auth
    "auth.login": "Войти",
    "auth.register": "Регистрация",
    "auth.logout": "Выйти",
    "auth.email": "Email",
    "auth.password": "Пароль",
    "auth.forgotPassword": "Забыли пароль?",
    "auth.noAccount": "Нет аккаунта?",
    "auth.hasAccount": "Уже есть аккаунт?",
    
    // Errors
    "error.general": "Произошла ошибка",
    "error.tryAgain": "Попробуйте снова",
    "error.notFound": "Страница не найдена",
    "error.unauthorized": "Доступ запрещен",
    "error.validation": "Ошибка валидации",
  },
  en: {
    // Navigation
    "nav.dashboard": "Dashboard",
    "nav.admin": "Admin Panel",
    "nav.companies": "Organizations",
    "nav.campaigns": "Tests",
    "nav.usersGroups": "Contacts",
    "nav.templates": "Templates",
    "nav.landingPages": "Landings",
    "nav.sendingProfiles": "SMTP",
    "nav.settings": "Settings",
    "nav.navigation": "Menu",
    
    // Common
    "common.create": "Create",
    "common.save": "Save",
    "common.cancel": "Cancel",
    "common.delete": "Delete",
    "common.edit": "Edit",
    "common.search": "Search",
    "common.loading": "Loading...",
    "common.noData": "No data found",
    "common.actions": "Actions",
    "common.name": "Name",
    "common.email": "Email",
    "common.status": "Status",
    "common.date": "Date",
    "common.all": "All",
    
    // Dashboard
    "dashboard.title": "Dashboard",
    "dashboard.subtitle": "PhishGuard Administration - Email Campaign Overview",
    "dashboard.newCampaign": "New Campaign",
    "dashboard.campaigns": "Campaigns",
    "dashboard.sent": "Sent",
    "dashboard.allTime": "emails all time",
    "dashboard.opened": "Opened",
    "dashboard.ofSent": "of sent",
    "dashboard.clicks": "Clicks",
    "dashboard.ofOpened": "of opened",
    "dashboard.dataCollected": "Data Collected",
    "dashboard.ofClicks": "of clicks",
    "dashboard.dailyLimit": "Daily sending limit",
    "dashboard.monthlyLimit": "Monthly sending limit",
    "dashboard.used": "Used",
    "dashboard.recentCampaigns": "Recent Campaigns",
    "dashboard.noCampaigns": "No campaigns",
    "dashboard.createFirstCampaign": "Create your first campaign to get started",
    
    // Campaigns
    "campaigns.title": "Campaigns",
    "campaigns.subtitle": "Manage phishing campaigns",
    "campaigns.create": "Create Campaign",
    "campaigns.total": "Total Campaigns",
    "campaigns.drafts": "Drafts",
    "campaigns.sending": "Sending",
    "campaigns.completed": "Completed",
    "campaigns.notFound": "No campaigns found",
    "campaigns.createFirst": "Create first campaign",
    "campaigns.new": "New Campaign",
    "campaigns.name": "Campaign Name",
    "campaigns.template": "Email Template",
    "campaigns.selectTemplate": "Select template",
    "campaigns.templateDescription": "Email template for mailing",
    "campaigns.landingPage": "Landing Page",
    "campaigns.selectLandingPage": "Select page",
    "campaigns.landingPageDescription": "Page for capturing credentials",
    "campaigns.sendingProfile": "Sending Profile",
    "campaigns.selectProfile": "Select profile",
    "campaigns.profileDescription": "SMTP service for sending emails",
    "campaigns.contactGroup": "Contact Group",
    "campaigns.selectGroup": "Select group",
    "campaigns.groupDescription": "Phishing email recipients",
    "campaigns.url": "Campaign URL (optional)",
    "campaigns.urlDescription": "Base URL for tracking",
    "campaigns.statusDraft": "Draft",
    "campaigns.statusScheduled": "Scheduled",
    "campaigns.statusSending": "Sending",
    "campaigns.statusSent": "Sent",
    "campaigns.statusPaused": "Paused",
    "campaigns.statusCancelled": "Cancelled",
    "campaigns.created": "Campaign created",
    "campaigns.createdDesc": "New campaign successfully created",
    "campaigns.deleted": "Campaign deleted",
    "campaigns.launched": "Campaign launched",
    "campaigns.launchedDesc": "Starting to send emails",
    
    // Templates
    "templates.title": "Templates",
    "templates.subtitle": "View and manage email templates",
    "templates.create": "Create Template",
    "templates.notFound": "No templates found",
    "templates.createFirst": "Create first template",
    "templates.new": "New Template",
    "templates.name": "Template Name",
    "templates.subject": "Email Subject",
    "templates.htmlContent": "HTML Content",
    "templates.preview": "Preview",
    "templates.allTemplates": "All Templates",
    "templates.ready": "Ready",
    "templates.custom": "Custom",
    "templates.created": "Template created",
    "templates.createdDesc": "New template successfully added",
    
    // Landing Pages
    "landingPages.title": "Landing Pages",
    "landingPages.subtitle": "Pages for capturing credentials",
    "landingPages.create": "New Page",
    "landingPages.notFound": "No pages found",
    "landingPages.createFirst": "Create first page",
    "landingPages.new": "New Page",
    "landingPages.name": "Page Name",
    "landingPages.html": "Page HTML Code",
    "landingPages.redirectUrl": "Redirect URL",
    "landingPages.captureSettings": "Capture Settings",
    "landingPages.captureData": "Data",
    "landingPages.created": "Page created",
    
    // Sending Profiles
    "sendingProfiles.title": "Sending Profiles",
    "sendingProfiles.subtitle": "Configure SMTP servers for sending emails",
    "sendingProfiles.create": "Add Service",
    "sendingProfiles.notConfigured": "No email services configured",
    "sendingProfiles.createFirst": "Add first service",
    "sendingProfiles.new": "New Email Service",
    "sendingProfiles.name": "Service Name",
    "sendingProfiles.provider": "Provider",
    "sendingProfiles.selectProvider": "Select provider",
    "sendingProfiles.fromEmail": "From Email",
    "sendingProfiles.fromName": "From Name",
    "sendingProfiles.apiKey": "API Key",
    "sendingProfiles.active": "Active",
    "sendingProfiles.inactive": "Inactive",
    "sendingProfiles.created": "Service added",
    "sendingProfiles.createdDesc": "Email service successfully configured",
    "sendingProfiles.updated": "Service updated",
    "sendingProfiles.updatedDesc": "Email service settings changed",
    "sendingProfiles.deleted": "Service deleted",
    "sendingProfiles.deletedDesc": "Email service successfully deleted",
    
    // Users & Groups
    "usersGroups.title": "Users & Groups",
    "usersGroups.subtitle": "Manage phishing campaign recipients",
    "usersGroups.users": "Users",
    "usersGroups.groups": "Groups",
    "usersGroups.addUser": "Add User",
    "usersGroups.newGroup": "New Group",
    "usersGroups.importCsv": "Import CSV",
    "usersGroups.exportCsv": "Export CSV",
    "usersGroups.firstName": "First Name",
    "usersGroups.lastName": "Last Name",
    "usersGroups.position": "Position",
    "usersGroups.department": "Department",
    "usersGroups.noUsers": "No users found",
    "usersGroups.noGroups": "No groups found",
    "usersGroups.groupName": "Group Name",
    "usersGroups.contacts": "contacts",
    
    // Settings
    "settings.title": "Settings",
    "settings.subtitle": "Manage account and application settings",
    "settings.profile": "Profile",
    "settings.notifications": "Notifications",
    "settings.security": "Security",
    "settings.appearance": "Appearance",
    "settings.company": "Company",
    "settings.personalInfo": "Personal Information",
    "settings.updatePersonalInfo": "Update your personal details",
    "settings.changePhoto": "Change Photo",
    "settings.photoHint": "JPG, PNG or GIF. Max 2MB",
    "settings.firstName": "First Name",
    "settings.lastName": "Last Name",
    "settings.saveChanges": "Save Changes",
    "settings.profileSaved": "Profile saved",
    "settings.profileSavedDesc": "Your data has been successfully updated",
    "settings.emailNotifications": "Email Notifications",
    "settings.emailNotificationsDesc": "Configure which notifications you want to receive",
    "settings.campaignStatus": "Campaign Status",
    "settings.campaignStatusDesc": "Notifications about completion and sending errors",
    "settings.newResponses": "New Responses",
    "settings.newResponsesDesc": "Notifications about received data and responses",
    "settings.weeklyReports": "Weekly Reports",
    "settings.weeklyReportsDesc": "Weekly statistics summary",
    "settings.securityAlerts": "Security Alerts",
    "settings.securityAlertsDesc": "Alerts about suspicious activity",
    "settings.saveSettings": "Save Settings",
    "settings.notificationsSaved": "Notification settings saved",
    "settings.changePassword": "Change Password",
    "settings.changePasswordDesc": "Regularly update your password for security",
    "settings.currentPassword": "Current Password",
    "settings.newPassword": "New Password",
    "settings.confirmPassword": "Confirm Password",
    "settings.twoFactor": "Two-Factor Authentication",
    "settings.twoFactorDesc": "Add an extra layer of protection",
    "settings.authenticatorApp": "Authenticator App",
    "settings.authenticatorAppDesc": "Use an app to generate codes",
    "settings.notConfigured": "Not configured",
    "settings.setup2fa": "Setup 2FA",
    "settings.activeSessions": "Active Sessions",
    "settings.activeSessionsDesc": "Manage active logins",
    "settings.currentSession": "Current Session",
    "settings.active": "Active",
    "settings.endAllSessions": "End All Sessions",
    "settings.appearanceTitle": "Appearance",
    "settings.appearanceDesc": "Customize the application appearance",
    "settings.theme": "Theme",
    "settings.themeLight": "Light",
    "settings.themeDark": "Dark",
    "settings.themeSystem": "System",
    "settings.language": "Language",
    "settings.compactMode": "Compact Mode",
    "settings.compactModeDesc": "Reduce spacing to display more content",
    "settings.companyInfo": "Company Information",
    "settings.companyInfoDesc": "Basic information about your company",
    "settings.companyName": "Company Name",
    "settings.domain": "Domain",
    "settings.contactEmail": "Contact Email",
    "settings.limits": "Sending Limits",
    "settings.limitsDesc": "Current limits for your company",
    "settings.dailyLimit": "Daily Limit",
    "settings.monthlyLimit": "Monthly Limit",
    "settings.increaseLimit": "Increase Limit",
    
    // Notifications
    "notifications.title": "Notifications",
    "notifications.subtitle": "Recent campaign events",
    "notifications.empty": "No new notifications",
    "notifications.emailOpened": "Email opened",
    "notifications.linkClicked": "Link clicked",
    "notifications.credentialsSubmitted": "Credentials submitted",
    "notifications.newEvent": "New event",
    "notifications.justNow": "Just now",
    "notifications.minutesAgo": "min ago",
    "notifications.hoursAgo": "h ago",
    "notifications.daysAgo": "d ago",
    
    // Viewers
    "viewers.title": "Viewers",
    "viewers.subtitle": "Accounts with statistics-only access",
    "viewers.create": "Add Viewer",
    "viewers.noViewers": "No viewers found",
    "viewers.createFirst": "Create first viewer",
    "viewers.new": "New Viewer",
    "viewers.email": "Viewer Email",
    "viewers.password": "Password",
    "viewers.campaigns": "Available Campaigns",
    "viewers.selectCampaigns": "Select campaigns to view",
    "viewers.created": "Viewer created",
    "viewers.createdDesc": "Viewer account successfully created",
    "viewers.readOnlyAccess": "Read-only access",
    
    // Admin
    "admin.title": "Admin Panel",
    "admin.users": "Users",
    "admin.organizations": "Organizations",
    "admin.statistics": "Statistics",
    "admin.exportImport": "Export/Import",
    "admin.tests": "Tests",
    "admin.totalUsers": "Users",
    "admin.totalOrganizations": "Organizations",
    "admin.totalTests": "Tests",
    "admin.totalContacts": "Contacts",
    "admin.noOrganizations": "No organizations found",
    "admin.noUsers": "No users found",
    
    // Auth
    "auth.login": "Login",
    "auth.register": "Register",
    "auth.logout": "Logout",
    "auth.email": "Email",
    "auth.password": "Password",
    "auth.forgotPassword": "Forgot password?",
    "auth.noAccount": "Don't have an account?",
    "auth.hasAccount": "Already have an account?",
    
    // Errors
    "error.general": "An error occurred",
    "error.tryAgain": "Try again",
    "error.notFound": "Page not found",
    "error.unauthorized": "Access denied",
    "error.validation": "Validation error",
  },
};

type TranslationKey = keyof typeof translations.ru;

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: TranslationKey) => string;
}

const LanguageContext = createContext<LanguageContextType | null>(null);

export function LanguageProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<Language>(() => {
    if (typeof window !== "undefined") {
      const saved = localStorage.getItem("phishguard-language");
      if (saved === "en" || saved === "ru") return saved;
    }
    return "ru";
  });

  useEffect(() => {
    localStorage.setItem("phishguard-language", language);
  }, [language]);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
  };

  const t = (key: TranslationKey): string => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error("useLanguage must be used within a LanguageProvider");
  }
  return context;
}
